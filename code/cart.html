<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>amazon</title>
    <link rel="icon" type="text/icon" href="images/favicon1.png">
    <link rel="stylesheet" title="text/css" href="css/all.min.css">
    <link rel="stylesheet" title="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" title="text/css" href="css/fonts.css">
    <link rel="stylesheet" title="text/css" href="css/swiper-bundle.min.css">
    <link rel="stylesheet" title="text/css" href="css/style.css">
    <link rel="stylesheet" title="text/css" href="css/responsive.css">
</head>


<body>

    <header class="navbar navbar-expand-lg">
        <div class="logo-img d-flex">
            <a href="index.html"><img src="images/a-logo.png" alt="logo image" /></a>
            <a href="index.html" class="text-white align-self-center">.in</a>
        </div>
        <button class="head-btn" data-bs-toggle="collapse" data-bs-target="#navbar-nav">
            <span><i class="fa-solid fa-bars"></i></span>
        </button>
        <div class="collapse navbar-collapse" id="navbar-nav">
            <div class="head-info d-md-flex text-md-start text-center justify-content-around">
                <div class="head-data">
                    <span> Delivering to Ahmedabad 380004</span>
                    <p class="mb-0"> <i class="fa-solid fa-location-dot pe-2"></i>Update location</p>
                </div>
                <div class="searchbar d-flex my-md-0 my-3 pt-1 justify-content-center">
                    <select>
                        <option value="1">All</option>
                        <option value="2">All Categories</option>
                        <option value="3">Alexa Skills</option>
                        <option value="4">Amazon Devices</option>
                        <option value="5">Amazon Fashion</option>
                        <option value="6">Amazon Fresh</option>
                        <option value="7">Amazon Pharmacy</option>
                        <option value="8">Appliances</option>
                        <option value="9">Apps & Games</option>
                        <option value="10">Audible Audiobooks</option>
                        <option value="11">Baby</option>
                        <option value="12">Beauty</option>
                        <option value="13">Books</option>
                        <option value="14">Car & Motorbike</option>
                        <option value="15">Clothing & Accessories</option>
                        <option value="16">Collectibles</option>
                        <option value="17">Computers & Accessories</option>
                    </select>
                    <input type="search" class="border-0" placeholder="Search Amazon.in">
                    <button><i class="fa-solid fa-magnifying-glass "></i></button>
                </div>
                <div class="flyout align-self-center">
                    <div class="fy-card d-flex justify-content-center">
                        <span><a href="javascript:void(0);"><img src="images/India_flag.png" class="me-1 mt-1"
                                    alt="flag image" /></a></span>

                        <div class="flyout-card">
                            <button class="border-0 p-0">EN <i class="fa-solid fa-caret-down"></i></button>
                        </div>
                    </div>
                    <div class="menu">
                        <ul class="mb-0">
                            <li><a href="javascript:void(0);"><input type="radio" name="lg" class="me-2">English-EN</a>
                            </li>
                            <div class="line"></div>
                            <li><a href="javascript:void(0);"><input type="radio" name="lg" class="me-2">हिन्दी
                                    -Hi</a>
                            </li>
                            <li><a href="javascript:void(0);"><input type="radio" name="lg" class="me-2">தமிழ்
                                    -TA</a>
                            </li>
                            <li><a href="javascript:void(0);"><input type="radio" name="lg" class="me-2">తెలుగు-TE</a>
                            </li>
                            <li><a href="javascript:void(0);"><input type="radio" name="lg" class="me-2">ಕನ್ನಡ-KN</a>
                            </li>
                            <li><a href="javascript:void(0);"><input type="radio" name="lg" class="me-2">മലയാളം-ML</a>
                            </li>
                            <li><a href="javascript:void(0);"><input type="radio" name="lg" class="me-2">বাংলা-BN</a>
                            </li>
                            <li><a href="javascript:void(0);"><input type="radio" name="lg" class="me-2">मराठी-MR</a>
                            </li>
                            <a href="javascript:void(0)">learn more</a>
                            <div class="line"></div>
                            <div class="fy-card d-flex">
                                <span><img src="images/India_flag.png" class="me-1 mt-1" alt="flag image" /></span>
                                <p class="mb-0 mt-1">You are shopping on Amazon in .</p>
                            </div>
                            <a href="javascript:void(0)">Change country/region.</a>
                        </ul>
                    </div>
                </div>
                <div class="account-list return d-inline-block">
                    <div class="ac-data">
                        <span>Hello, sing in</span>
                        <p class="mb-0">Account & Lists <i class="fa-solid fa-caret-down"></i></p>
                    </div>
                    <div class="menu">
                        <div class="his-data text-center mb-2">
                            <button class="d-block mx-auto">sign in </button>
                            <span>New customer? <a href="javascript:void(0);" class="m-0">Start here.</a></span>
                        </div>
                        <div class="line"></div>
                        <div class="list d-flex">
                            <div class="list-data">
                                <ul class="mb-0 d-inline-block mt-3">
                                    <h3 class="mb-0">Your Lists</h3>
                                    <li><a href="javascript:void(0);">Create a Wish List</a></li>
                                    <li><a href="javascript:void(0);">Wish from Any Website</a></li>
                                    <li><a href="javascript:void(0);">Baby Wishlist</a></li>
                                    <li><a href="javascript:void(0);">Discover Your Style</a></li>
                                    <li><a href="javascript:void(0);">Explore Showroom</a></li>
                                </ul>
                            </div>
                            <div class="list-data list-info">
                                <ul class="mb-0 d-inline-block mt-3 justify-content-start">
                                    <h3 class="mb-0">Your Account</h3>
                                    <li><a href="javascript:void(0);">Your Account</a></li>
                                    <li><a href="javascript:void(0);">Your Orders</a></li>
                                    <li><a href="javascript:void(0);">Your Wish List</a></li>
                                    <li><a href="javascript:void(0);">Your Recommendations</a></li>
                                    <li><a href="javascript:void(0);">Your Prime Membership</a></li>
                                    <li><a href="javascript:void(0);">Your Prime Video</a></li>
                                    <li><a href="javascript:void(0);">Your Subscribe & Save Items</a></li>
                                    <li><a href="javascript:void(0);">Memberships & Subscriptions</a></li>
                                    <li><a href="javascript:void(0);">Your Seller Account</a></li>
                                    <li><a href="javascript:void(0);">Manage Your Content and Devices</a></li>
                                    <li><a href="javascript:void(0);">Your Free Amazon Business Account</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="account-list">
                    <div class="ac-data">
                        <span>Returns</span>
                        <p class="mb-0">& Orders</p>
                    </div>
                </div>
                <a href="cart.html"
                    class="tolly d-flex align-self-center justify-content-center ps-lg-2  mt-md-0 mt-2 position-relative">
                    <i class="fa-solid fa-cart-flatbed"></i>
                    <p class="mb-0 align-self-end ms-1">cart</p>
                    <label class="position-absolute top-0" id="count">0</label>
                </a>
            </div>
        </div>

    </header>

    <div class="header-bottom">
        <div class="head-detalis">
            <a href="index.html"><span><i class="fa-solid fa-bars me-2 fs-5"></i></span>All</a>
            <a href="products.html">products</a>
        </div>
    </div>

    <div class="bag-cart">
        <div class="row">
            <div class="col-md-1 col-0"></div>
            <div class="col-md-10 col-12">
                <div class="bags">
                    <div id="bag" class="bag-info d-flex justify-content-between flex-wrap position-relative"></div>
                </div>
            </div>
            <div class="col-md-1 col-0"></div>

        </div>
    </div>
    <div class="bag-table">
        <table border="1" cellpadding="10">
            <thead>
                <tr>
                    <th>image</th>
                    <th>item</th>
                    <th>price</th>
                    <th>quantity</th>
                    <th>SubToale</th>
                    <th>Remove</th>
                </tr>
            </thead>

            <tbody id="tbody">

            </tbody>
        </table>
    </div>
    <table border="1" class="total-table">
        <thead id="thead">
        </thead>
    </table>
    <table border="1" class="total-table">
        <thead id="thead">
        </thead>
    </table>



    <!-- <div id="total"></div> -->



    <script src="js/jquery-3.7.1.min.js"></script>
    <script src="js/swiper-bundle.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script>


        let cart=JSON.parse(localStorage.getItem("cart"))
        console.log(cart);

        let data = (index) => {
            let quantity = JSON.parse(localStorage.getItem(`num${index}`)) || 0 ;
            let storedPrice = JSON.parse(localStorage.getItem(`price${index}`)) || 0;
            return { quantity, storedPrice };
            console.log(quantity);
            console.log(storedPrice);

        };

        let loaddata = () => {
            let tbody = document.getElementById("tbody");
            cart.map((val, ind) => {
                let { quantity,storedPrice}=data(`${ind}`)
                let tr = document.createElement("tr");
                
                tr.innerHTML = ` <td><img src="${val.Image}" alt="bag image" /></td>
                <td>${val.name}</td>
                <td>₹${val.price}</td>
                <td>${quantity}</td>
                <td>₹${storedPrice}</td>
                <td><span onclick="cartdata(${ind})"><i class="fa-solid fa-trash"></i></span></td>
                `
                tbody.appendChild(tr);
            });
        };
        loaddata();

        let cartdata = (ind) => {
            let car = cart[ind]
            console.log(car);

            let result = cart.filter((val) => val.name != car.name)
            console.log(result);

            localStorage.setItem("cart", JSON.stringify(result))
            location.reload()
        }
        let count = document.getElementById("count").innerHTML = cart.length;

        let price = () => {
            let qna = 0;
            let total = 0;
            cart.forEach((val, ind) => {
                let { quantity,storedPrice}=data(`${ind}`)
                qna += +quantity;
                total += +storedPrice;
            });

            let thead = document.getElementById("thead")
            for (let i = 0; i < 1; i++) {
                let tr = document.createElement("tr")
                tr.innerHTML = `<th>Total quantity</th>
                                <th>${qna}</th>`
                thead.appendChild(tr)
            }
            for (let i = 0; i < 1; i++) {
                let tr = document.createElement("tr")
                tr.innerHTML = `<th>Total Rupy</th>
                <th>₹${total}</th>`
                thead.appendChild(tr)
            }

        }

        price();
    
    </script>

</body>


</html>